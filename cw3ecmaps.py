"""
Filename:    cw3ecmaps.py
Author:      Deanna Nash, dnash@ucsd.edu
Description: Functions for cmaps from the CW3E website adapted from from https://github.com/samwisehawkins/nclcmaps
"""

import numpy as np
import matplotlib.colors as mcolors
from matplotlib.colors import ListedColormap

__all__ = ['cw3ecmaps']

colors = {"ivt_probability": [[10, 180, 255], # blue
                            [12, 253, 248], # cyan
                            [7, 228, 170], # green 1
                            [3, 203, 87], # green 2
                            [6, 182, 6], # green 3
                            [95, 208, 3], # green 4
                            [176, 231, 2], # green-yellow
                            [255, 255, 3], # yellow
                            [255, 225, 3], # yellow-orange
                            [255, 199, 2], # orange 1
                            [255, 170, 2], # orange 2
                            [255, 115, 1], # orange 3
                            [255, 57, 1], # red 1
                            [255, 1, 0], # red 2
                            [205, 0, 37], # red 3
                            [150, 0, 86], # maroon
                            [91, 0, 133]], # purple
          
        "ivt_vector": [[255., 255., 255.], #0.0-0.1
                       [9., 156., 255.], #0.1-0.2
                       [8., 235., 191.], #0.2-0.3
                       [2., 186., 24.], #0.3-0.4
                       [155., 225., 2.], #0.4-0.5
                       [255, 233, 3], #0.5-0.6
                       [255, 175, 2], #0.6-0.7
                       [255, 69, 1], #0.7-0.8
                       [215, 0, 28], #0.8-0.9
                       [102, 0, 125]], #0.9-1.0
          
          "jay_qpf": [[10, 193, 255],
                      [156, 47, 206],
                      [206, 33, 33],
                      [140, 67, 0],
                      [255, 128, 1],
                      [140, 101, 1],
                      [255, 187, 7],
                      [255, 223, 140],
                      [255, 131, 173]],
          
          "brian_qpf": [[154, 219, 165],
                        [106, 198, 165],
                        [83, 174, 164],
                        [72, 148, 160],
                        [63, 123, 155],
                        [60, 97, 150],
                        [63, 68, 133],
                        [56, 46, 91],
                        [40, 25, 51]],
          
          "test_terrain": [[255, 255, 255],
                      [156, 47, 206],
                      [206, 33, 33],
                      [140, 67, 0],
                      [255, 128, 1],
                      [140, 101, 1],
                      [255, 187, 7],
                      [255, 223, 140],
                      [255, 131, 173]],
          
          "land_sea": [[38, 63, 120],
                       [255, 255, 255]],
          
          "ivt_duration": [[255, 174, 0], # orange 250
                           [236, 0, 7], # red 500
                           [86, 0, 137], # purple 750
                           [77, 77, 77]], # grey 1000
          
          "ivt_magnitude": [[10, 180, 255], # blue
                            [12, 253, 248], # cyan
                            [7, 228, 170], # green 1
                            [3, 203, 87], # green 2
                            [6, 182, 6], # green 3
                            [95, 208, 3], # green 4
                            [176, 231, 2], # green-yellow
                            [255, 255, 3], # yellow
                            [255, 225, 3], # yellow-orange
                            [255, 199, 2], # orange 1
                            [255, 170, 2], # orange 2
                            [255, 115, 1], # orange 3
                            [255, 57, 1], # red 1
                            [255, 1, 0], # red 2
                            [205, 0, 37], # red 3
                            [150, 0, 86], # maroon
                            [91, 0, 133]], # purple
          
          "arscale": [[10, 193, 255], # blue
                            [4, 255, 3], # green
                            [255, 255, 3], # yellow
                            [255, 166, 2], # orange
                            [255, 1, 0]], # red
          
          "ivt": [[12, 255, 255], # 100-150
                  [16, 185, 6], # 150-200
                  [140, 220, 2], # 200-250
                  [255, 255, 3], # 250-300
                  [255, 229, 3], # 300-400
                  [255, 201, 2], # 400-500
                  [255, 175, 2], # 500-600
                  [255, 131, 1], # 600-700
                  [255, 79, 1],  # 700-800
                  [255, 24, 1],  # 800-1000
                  [235, 1, 7],   # 1000-1200
                  [185, 0, 55],  # 1200-1400
                  [234, 234, 234], # 1400-1600
                  [86, 0, 137]   # 1600+
          ],
         }

bounds = {"ivt_probability": [0., 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 0.7, 0.75, 0.8, 0.85, 0.9, 0.95, 1., 1.05],
          "ivt_vector": [0., 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.],
          "jay_qpf": [1, 2, 3, 4, 5, 7, 10, 15, 20],
          "brian_qpf": [1, 2, 3, 4, 5, 7, 10, 15, 20],
          "test_terrain": [0., 250., 500., 1000., 1500., 2000., 2500., 3000., 3500.],
          "land_sea": [0., 1.],
          "ivt_duration": [0, 250, 500, 750, 1000],
          "ivt_magnitude": [0., 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950, 1000, 1050]
          "arscale": [1, 2, 3, 4, 5],
          "ivt": [100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 1000, 1200, 1400, 1600],}


def cmap(name):
    data = np.array(colors[name])
    data = data / np.max(data)
    cmap = ListedColormap(data, name=name)
    bnds = bounds[name]
    norm = mcolors.BoundaryNorm(bnds, cmap.N)
    return cmap, norm, bnds